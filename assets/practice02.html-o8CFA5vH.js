import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as o,o as t,d as c}from"./app-CiwSPZKD.js";const d={},l=c('<h2 id="性能抖动" tabindex="-1"><a class="header-anchor" href="#性能抖动"><span>性能抖动</span></a></h2><p>在了解<code>Buffer pool</code>、<code>redo log</code>、<code>LRU/flush</code>、<code>undo log</code>、<code>ReadView</code>、<code>MVCC</code>、<code>行锁</code>、<code>表锁</code>等机制后，需要通过案例来说明问题了。</p><p>性能抖动的根本原因可能有两点。</p><ul><li><p><code>buffer pool</code>缓存页已满，当遇到大批量查询时，瞬间要把大量缓存页刷入磁盘，导致执行阻塞。</p></li><li><p><code>redo log</code>被磁盘文件写满，且等待<code>flush</code>操作，无法处理任何新的请求，必须等刷完磁盘才能继续执行。</p></li></ul><p>通过优化<a href="https://www.mysql.com" target="_blank" rel="noopener noreferrer">MySQL</a>参数可以减少缓存页带来的性能抖动现象。</p><ul><li><p>尽量减少缓存页<code>flush</code>刷入磁盘的频率，但这个几乎很难优化。</p></li><li><p>尽量提高缓存页<code>flush</code>刷入磁盘的速度。</p></li><li><p>采用<code>SSD</code>固态硬盘。</p></li><li><p>通过<code>fio</code>工具测试<code>SSD</code>性能，调整<code>innodb_io_capacity</code>和SSD写入速率一致。</p></li><li><p>脏页会默认按照<code>innodb_io_capacity × 75%</code>的比例刷磁盘。</p></li><li><p><code>innodb_flush_neighbors</code>是是否把相邻的缓存页也刷到磁盘，一般设置为0，禁止刷临近缓存页。</p></li></ul>',6),a=[l];function r(p,i){return t(),o("div",null,a)}const h=e(d,[["render",r],["__file","practice02.html.vue"]]),u=JSON.parse('{"path":"/technology/database/mysql/practice02.html","title":"生产实践（二）","lang":"zh-CN","frontmatter":{"title":"生产实践（二）","icon":"table","category":["数据库","MySQL"],"tag":["数据库","MySQL"],"date":"2023-05-09T00:00:00.000Z","isOriginal":true,"star":true,"description":"性能抖动 在了解Buffer pool、redo log、LRU/flush、undo log、ReadView、MVCC、行锁、表锁等机制后，需要通过案例来说明问题了。 性能抖动的根本原因可能有两点。 buffer pool缓存页已满，当遇到大批量查询时，瞬间要把大量缓存页刷入磁盘，导致执行阻塞。 redo log被磁盘文件写满，且等待flush操作...","head":[["meta",{"property":"og:url","content":"https://vuepress-theme-hope-docs-demo.netlify.app/technology/database/mysql/practice02.html"}],["meta",{"property":"og:site_name","content":"添码座"}],["meta",{"property":"og:title","content":"生产实践（二）"}],["meta",{"property":"og:description","content":"性能抖动 在了解Buffer pool、redo log、LRU/flush、undo log、ReadView、MVCC、行锁、表锁等机制后，需要通过案例来说明问题了。 性能抖动的根本原因可能有两点。 buffer pool缓存页已满，当遇到大批量查询时，瞬间要把大量缓存页刷入磁盘，导致执行阻塞。 redo log被磁盘文件写满，且等待flush操作..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:author","content":"添码座"}],["meta",{"property":"article:tag","content":"数据库"}],["meta",{"property":"article:tag","content":"MySQL"}],["meta",{"property":"article:published_time","content":"2023-05-09T00:00:00.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"生产实践（二）\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2023-05-09T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"添码座\\",\\"url\\":\\"https://www.tianmazuo.com/about/\\"}]}"]]},"headers":[{"level":2,"title":"性能抖动","slug":"性能抖动","link":"#性能抖动","children":[]}],"git":{},"readingTime":{"minutes":0.96,"words":287},"filePathRelative":"technology/database/mysql/practice02.md","localizedDate":"2023年5月9日","excerpt":"<h2>性能抖动</h2>\\n<p>在了解<code>Buffer pool</code>、<code>redo log</code>、<code>LRU/flush</code>、<code>undo log</code>、<code>ReadView</code>、<code>MVCC</code>、<code>行锁</code>、<code>表锁</code>等机制后，需要通过案例来说明问题了。</p>\\n<p>性能抖动的根本原因可能有两点。</p>\\n<ul>\\n<li>\\n<p><code>buffer pool</code>缓存页已满，当遇到大批量查询时，瞬间要把大量缓存页刷入磁盘，导致执行阻塞。</p>\\n</li>\\n<li>\\n<p><code>redo log</code>被磁盘文件写满，且等待<code>flush</code>操作，无法处理任何新的请求，必须等刷完磁盘才能继续执行。</p>\\n</li>\\n</ul>","autoDesc":true}');export{h as comp,u as data};
