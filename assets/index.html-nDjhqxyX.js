import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as t,o as r,d as a}from"./app-B5m7CcSj.js";const n={},l=a('<p>数据检索几乎是所有IT系统的基本需求，<a href="https://www.mysql.com/" target="_blank" rel="noopener noreferrer">MySQL</a>为此专门提供了条件查询、模糊查询<code>LIKE</code>和全文索引<code>FULLTEXT</code>。</p><p>下面是一张简化后的<a href="https://www.mysql.com/" target="_blank" rel="noopener noreferrer">MySQL</a>商品数据表。</p><table><thead><tr><th style="text-align:center;">id</th><th style="text-align:left;">name</th></tr></thead><tbody><tr><td style="text-align:center;">1</td><td style="text-align:left;">2024笔记本电脑新款全新2.5K护眼屏商务出差办公</td></tr><tr><td style="text-align:center;">2</td><td style="text-align:left;">戴睿2.5K超清IPS屏极光X14电脑轻薄商务办公</td></tr><tr><td style="text-align:center;">3</td><td style="text-align:left;">轻薄便携32G金属笔记本电脑大学生超薄商务办公学习</td></tr><tr><td style="text-align:center;">4</td><td style="text-align:left;">2024新款AI笔记本电脑全新商务办公学习轻薄</td></tr><tr><td style="text-align:center;">5</td><td style="text-align:left;">英特尔2024新品14英寸笔记本电脑酷睿i7轻薄便携学生超薄办公</td></tr></tbody></table><p>如果<a href="https://www.mysql.com/" target="_blank" rel="noopener noreferrer">MySQL</a>要在这张商品表中找到<code>i7</code>关键字，就只能通过模糊查询（<code>LIKE</code>）的方式，一行行地找。哪怕有再多索引，也得从第一行开始，直至找到最后一行。</p><p>这是一种用<code>Key</code>找<code>Value</code>的方式，也就是<code>通过ID找内容</code>，也称为<a href="https://baike.baidu.com/item/%E9%80%9A%E7%94%A8%E4%BF%A1%E6%81%AF%E7%B4%A2%E5%BC%95" target="_blank" rel="noopener noreferrer">顺排索引</a>。</p><p>和它相对的，就是<a href="https://zh.wikipedia.org/wiki/%E5%80%92%E6%8E%92%E7%B4%A2%E5%BC%95" target="_blank" rel="noopener noreferrer">倒排索引</a>。</p><p>如果用<a href="https://zh.wikipedia.org/wiki/%E5%80%92%E6%8E%92%E7%B4%A2%E5%BC%95" target="_blank" rel="noopener noreferrer">倒排索引</a>来实现刚才的那个查询需求，它会把内容分解成下面这样的结构。</p><table><thead><tr><th style="text-align:center;">单词id</th><th style="text-align:center;">单词</th><th style="text-align:center;">出现次数</th><th style="text-align:left;">文档id:位置id</th></tr></thead><tbody><tr><td style="text-align:center;">1</td><td style="text-align:center;">2024</td><td style="text-align:center;">3</td><td style="text-align:left;"><code>{1,0}</code>, <code>{4,0}</code>, <code>{5,0}</code></td></tr><tr><td style="text-align:center;">2</td><td style="text-align:center;">笔记本</td><td style="text-align:center;">4</td><td style="text-align:left;"><code>{1,1}</code>, <code>{3,4}</code>, <code>{4,3}</code>, <code>{5,4}</code></td></tr><tr><td style="text-align:center;">3</td><td style="text-align:center;">电脑</td><td style="text-align:center;">5</td><td style="text-align:left;"><code>{1,2}</code>, <code>{2,6}</code>, <code>{3,5}</code>, <code>{4,4}</code>, <code>{5,5}</code></td></tr><tr><td style="text-align:center;">4</td><td style="text-align:center;">全新</td><td style="text-align:center;">2</td><td style="text-align:left;"><code>{1,4}</code>, <code>{4,5}</code></td></tr><tr><td style="text-align:center;">5</td><td style="text-align:center;">2.5K</td><td style="text-align:center;">2</td><td style="text-align:left;"><code>{1,5}</code>, <code>{2,1}</code></td></tr><tr><td style="text-align:center;">6</td><td style="text-align:center;">商务</td><td style="text-align:center;">4</td><td style="text-align:left;">...</td></tr><tr><td style="text-align:center;">7</td><td style="text-align:center;">出差</td><td style="text-align:center;">1</td><td style="text-align:left;">...</td></tr><tr><td style="text-align:center;">8</td><td style="text-align:center;">办公</td><td style="text-align:center;">5</td><td style="text-align:left;">...</td></tr><tr><td style="text-align:center;">9</td><td style="text-align:center;">i7</td><td style="text-align:center;">1</td><td style="text-align:left;"><code>{1,7}</code></td></tr><tr><td style="text-align:center;">...</td><td style="text-align:center;">...</td><td style="text-align:center;">...</td><td style="text-align:left;">...</td></tr></tbody></table><p>即使是是一个完整的句子，也可以通过将它拆分（也就是进行<a href="https://www.elastic.co/guide/cn/elasticsearch/guide/current/standard-tokenizer.html" target="_blank" rel="noopener noreferrer">分词</a>）的方式，来逐个匹配。</p><p>这种索引方式，比<a href="https://www.mysql.com/" target="_blank" rel="noopener noreferrer">MySQL</a>使用的<a href="https://baike.baidu.com/item/%E9%80%9A%E7%94%A8%E4%BF%A1%E6%81%AF%E7%B4%A2%E5%BC%95" target="_blank" rel="noopener noreferrer">顺排索引</a>效率更高，而且功能更强，更精准。</p><p><a href="https://www.elastic.co/" target="_blank" rel="noopener noreferrer">Elasticsearch</a>就是这样一种专门用来实现搜索功能的<a href="https://en.wikipedia.org/wiki/NoSQL" target="_blank" rel="noopener noreferrer">NoSQL</a>搜索引擎，它正是基于<a href="https://zh.wikipedia.org/wiki/%E5%80%92%E6%8E%92%E7%B4%A2%E5%BC%95" target="_blank" rel="noopener noreferrer">倒排索引</a>实现的。</p><p>作为一种<a href="https://en.wikipedia.org/wiki/NoSQL" target="_blank" rel="noopener noreferrer">NoSQL</a>系统，它同样也不遵循<a href="https://baike.baidu.com/item/%E7%BB%93%E6%9E%84%E5%8C%96%E6%95%B0%E6%8D%AE" target="_blank" rel="noopener noreferrer">结构化数据</a>存储的套路，但也不完全像<a href="https://www.mongodb.com/" target="_blank" rel="noopener noreferrer">MongoDB</a>这种<a href="https://baike.baidu.com/item/%E9%9D%9E%E7%BB%93%E6%9E%84%E5%8C%96%E6%95%B0%E6%8D%AE" target="_blank" rel="noopener noreferrer">非结构化数据</a>那样可以实现<code>保存什么类型，就定义什么类型</code>，而是介于它们二者之间。</p><figure><img src="https://tianmazuo.com/technology/middleware/elasticsearch/elasticsearch-01.png" alt="Elasticsearch和MySQL的对应关系" tabindex="0" loading="lazy"><figcaption>Elasticsearch和MySQL的对应关系</figcaption></figure><p><a href="https://www.elastic.co/" target="_blank" rel="noopener noreferrer">Elasticsearch</a>像<a href="https://www.mysql.com/" target="_blank" rel="noopener noreferrer">MySQL</a>一样，需要预先定义<code>Index</code>和<code>Type</code>，但却可以像<a href="https://www.mongodb.com/" target="_blank" rel="noopener noreferrer">MongoDB</a>一样，不必事先定义<code>Field</code>，而是<code>保存什么类型，就定义什么类型</code>（当然，也可以事先定义<code>Field</code>，避免脏数据）。</p><p><a href="https://www.elastic.co/" target="_blank" rel="noopener noreferrer">Elasticsearch</a>是一个分布式的<a href="https://zh.wikipedia.org/wiki/%E5%80%92%E6%8E%92%E7%B4%A2%E5%BC%95" target="_blank" rel="noopener noreferrer">倒排索引</a>系统。为了管理庞大的数据，它和<a href="https://www.mongodb.com/" target="_blank" rel="noopener noreferrer">MongoDB</a>一样，也采用了类似于<a href="https://www.mongodb.com/blog/post/performance-best-practices-series-sharding-cn" target="_blank" rel="noopener noreferrer">MongoDB分片</a>和<a href="https://www.mongodb.com/zh-cn/docs/manual/reference/replica-configuration/" target="_blank" rel="noopener noreferrer">MongoDB副本集</a>的技术。</p><figure><img src="https://tianmazuo.com/technology/middleware/elasticsearch/elasticsearch-02.png" alt="Elasticsearch的分片和副本" tabindex="0" loading="lazy"><figcaption>Elasticsearch的分片和副本</figcaption></figure><p><a href="https://www.elastic.co/" target="_blank" rel="noopener noreferrer">Elasticsearch</a>的所有<code>分片（Shard）</code>和<code>副本（Replica）</code>都是运行在<code>节点（Node）</code>之上的，而若干个<code>节点（Node）</code>则组成了完整的<a href="https://www.elastic.co/" target="_blank" rel="noopener noreferrer">Elasticsearch</a><code>集群（Cluster）</code>。</p>',17),o=[l];function c(d,i){return r(),t("div",null,o)}const p=e(n,[["render",c],["__file","index.html.vue"]]),h=JSON.parse('{"path":"/technology/middleware/elasticsearch/","title":"什么是ElasticSearch？","lang":"zh-CN","frontmatter":{"title":"什么是ElasticSearch？","icon":"magnifying-glass","category":["中间件","ElasticSearch"],"tag":["中间件","ElasticSearch"],"date":"2023-01-24T00:00:00.000Z","isOriginal":true,"star":true,"description":"数据检索几乎是所有IT系统的基本需求，MySQL为此专门提供了条件查询、模糊查询LIKE和全文索引FULLTEXT。 下面是一张简化后的MySQL商品数据表。 如果MySQL要在这张商品表中找到i7关键字，就只能通过模糊查询（LIKE）的方式，一行行地找。哪怕有再多索引，也得从第一行开始，直至找到最后一行。 这是一种用Key找Value的方式，也就是通...","head":[["meta",{"property":"og:url","content":"https://vuepress-theme-hope-docs-demo.netlify.app/technology/middleware/elasticsearch/"}],["meta",{"property":"og:site_name","content":"添码座"}],["meta",{"property":"og:title","content":"什么是ElasticSearch？"}],["meta",{"property":"og:description","content":"数据检索几乎是所有IT系统的基本需求，MySQL为此专门提供了条件查询、模糊查询LIKE和全文索引FULLTEXT。 下面是一张简化后的MySQL商品数据表。 如果MySQL要在这张商品表中找到i7关键字，就只能通过模糊查询（LIKE）的方式，一行行地找。哪怕有再多索引，也得从第一行开始，直至找到最后一行。 这是一种用Key找Value的方式，也就是通..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://tianmazuo.com/technology/middleware/elasticsearch/elasticsearch-01.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:author","content":"添码座"}],["meta",{"property":"article:tag","content":"中间件"}],["meta",{"property":"article:tag","content":"ElasticSearch"}],["meta",{"property":"article:published_time","content":"2023-01-24T00:00:00.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"什么是ElasticSearch？\\",\\"image\\":[\\"https://tianmazuo.com/technology/middleware/elasticsearch/elasticsearch-01.png\\",\\"https://tianmazuo.com/technology/middleware/elasticsearch/elasticsearch-02.png\\"],\\"datePublished\\":\\"2023-01-24T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"添码座\\",\\"url\\":\\"https://www.tianmazuo.com/about/\\"}]}"]]},"headers":[],"git":{},"readingTime":{"minutes":2.82,"words":846},"filePathRelative":"technology/middleware/elasticsearch/README.md","localizedDate":"2023年1月24日","excerpt":"<p>数据检索几乎是所有IT系统的基本需求，<a href=\\"https://www.mysql.com/\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">MySQL</a>为此专门提供了条件查询、模糊查询<code>LIKE</code>和全文索引<code>FULLTEXT</code>。</p>\\n<p>下面是一张简化后的<a href=\\"https://www.mysql.com/\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">MySQL</a>商品数据表。</p>\\n<table>\\n<thead>\\n<tr>\\n<th style=\\"text-align:center\\">id</th>\\n<th style=\\"text-align:left\\">name</th>\\n</tr>\\n</thead>\\n<tbody>\\n<tr>\\n<td style=\\"text-align:center\\">1</td>\\n<td style=\\"text-align:left\\">2024笔记本电脑新款全新2.5K护眼屏商务出差办公</td>\\n</tr>\\n<tr>\\n<td style=\\"text-align:center\\">2</td>\\n<td style=\\"text-align:left\\">戴睿2.5K超清IPS屏极光X14电脑轻薄商务办公</td>\\n</tr>\\n<tr>\\n<td style=\\"text-align:center\\">3</td>\\n<td style=\\"text-align:left\\">轻薄便携32G金属笔记本电脑大学生超薄商务办公学习</td>\\n</tr>\\n<tr>\\n<td style=\\"text-align:center\\">4</td>\\n<td style=\\"text-align:left\\">2024新款AI笔记本电脑全新商务办公学习轻薄</td>\\n</tr>\\n<tr>\\n<td style=\\"text-align:center\\">5</td>\\n<td style=\\"text-align:left\\">英特尔2024新品14英寸笔记本电脑酷睿i7轻薄便携学生超薄办公</td>\\n</tr>\\n</tbody>\\n</table>","autoDesc":true}');export{p as comp,h as data};
