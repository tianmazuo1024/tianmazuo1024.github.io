import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as i,o as a,d as n}from"./app-B5m7CcSj.js";const h={},l=n(`<h2 id="使用hive命令" tabindex="-1"><a class="header-anchor" href="#使用hive命令"><span>使用hive命令</span></a></h2><p>执行下面的命令开启<a href="https://hive.apache.org/" target="_blank" rel="noopener noreferrer">Hive</a>客户端。</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; cd /home/work/hive-3.1.3</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; ./bin/hive</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">/usr/bin/which:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> no</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> hbase</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> in</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (/root/.local/bin:/root/bin:.:/home/work/hadoop-3.2.0/bin:/home/work/hadoop-3.2.0/sbin:/usr/local/java/jdk1.8.0_401/bin:/usr/share/Modules/bin:/usr/local/bin:/usr/local/sbin:/usr/bin:/usr/sbin)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">SLF4J:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Class</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> path</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> contains</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> multiple</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> SLF4J</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> bindings.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">SLF4J:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Found</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> binding</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> in</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [jar:file:/home/work/hive-3.1.3/lib/log4j-slf4j-impl-2.17.1.jar!/org/slf4j/impl/StaticLoggerBinder.class]</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">SLF4J:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Found</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> binding</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> in</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [jar:file:/home/work/hadoop-3.2.0/share/hadoop/common/lib/slf4j-log4j12-1.7.25.jar!/org/slf4j/impl/StaticLoggerBinder.class]</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">SLF4J:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> See</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> http://www.slf4j.org/codes.html#multiple_bindings</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> for</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> an</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> explanation.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">SLF4J:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Actual</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> binding</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> is</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> of</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> type</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [org.apache.logging.slf4j.Log4jLoggerFactory]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Hive</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Session</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ID</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 86ca643b-ec64-4f1f-bd24-6405e64fe77a</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Logging</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> initialized</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> using</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> configuration</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> in</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> jar:file:/home/work/hive-3.1.3/lib/hive-common-3.1.3.jar!/hive-log4j2.properties</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Async:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> true</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Hive-on-MR</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> is</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> deprecated</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> in</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Hive</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> and</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> may</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> not</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> be</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> available</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> in</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> the</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> future</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> versions.</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Consider</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> using</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> a</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> different</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> execution</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> engine</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (i.e. </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">spark,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> tez</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) or using Hive 1.X releases.Hive Session ID = d8f39576-5efc-49c7-9658-1cf0b3b3cdca</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">hive</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>接下来，就可以通过输入<code>SQL</code>查询语句与<a href="https://hive.apache.org/" target="_blank" rel="noopener noreferrer">Hive</a>交互了。</p><h3 id="创建数据表" tabindex="-1"><a class="header-anchor" href="#创建数据表"><span>创建数据表</span></a></h3><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">hive</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> create</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> table</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> test(</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">          id </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">          name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> string</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      );</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">OK</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">Time</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> taken: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">848</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> seconds</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">hive</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> show tables;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">OK</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">test</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">Time</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> taken: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">176</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> seconds</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, Fetched: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> row</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(s)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="操作数据" tabindex="-1"><a class="header-anchor" href="#操作数据"><span>操作数据</span></a></h3><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">hive</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> insert into</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> test(id, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">values</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;lixingyun&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Query ID </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> root_20230316185548_03120073-6d64-46ae-ad26-58d58871542f</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Total jobs </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 3</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Launching Job </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> out</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> of </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">Number</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> of reduce tasks determined </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">at</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> compile </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">time</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">In</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> order </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">to</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> change the average </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">load</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> for</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> a reducer (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">in</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> bytes):</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  set</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> hive</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">exec</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">reducers</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">bytes</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">per</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">reducer</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=&lt;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">number</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">In</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> order </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">to</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> limit</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> the maximum </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">number</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> of reducers:</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  set</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> hive</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">exec</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">reducers</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">max</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=&lt;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">number</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">In</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> order </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">to</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> set</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> a constant </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">number</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> of reducers:</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  set</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> mapreduce</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">job</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.reduces</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=&lt;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">number</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Starting Job </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> job_1720692377914_0001, Tracking </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">URL</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> http</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">://</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">hadoop</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">8088</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/proxy/application_1720692377914_0001/</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">Kill</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> Command </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /home/work/</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">hadoop</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/bin/mapred job  -</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">kill</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> job_1720692377914_0001</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">Hadoop</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> job information </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> Stage-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">number</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> of mappers: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">number</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> of reducers: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2023</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-xx-xx </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">18</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">58</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">11</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">061</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> Stage-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> map </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">%,  reduce </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">%</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2023</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-xx-xx </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">18</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">58</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">26</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">419</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> Stage-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> map </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 100</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">%,  reduce </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">%, Cumulative CPU </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">53</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> sec</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2023</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-xx-xx </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">18</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">59</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">18</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">732</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> Stage-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> map </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 100</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">%,  reduce </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 100</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">%, Cumulative CPU </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">85</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> sec</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">MapReduce Total cumulative CPU </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">time</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> seconds</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 850</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> msec</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Ended Job </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> job_1720692377914_0001</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Stage-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> is</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> selected </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">by</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> condition resolver.</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Stage-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> is</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> filtered </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">out</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> by</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> condition resolver.</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Stage-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> is</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> filtered </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">out</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> by</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> condition resolver.</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Moving </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">data</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> to</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> directory hdfs://</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">hadoop</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">9000</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/user/hive/warehouse/test/.hive-staging_hive_2023-xx-xx_18-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">55</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-48_044_3810504924385202158-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/-ext-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10000</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Loading </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">data</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> to</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> table</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> default</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.test</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">MapReduce Jobs Launched: </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Stage-Stage-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: Map: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  Reduce: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">   Cumulative CPU: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">85</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> sec   HDFS </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">Read</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">15185</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> HDFS Write: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">243</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> SUCCESS</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Total MapReduce CPU </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">Time</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> Spent: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> seconds</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 850</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> msec</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">OK</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">Time</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> taken: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">18</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">031</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> seconds</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">hive</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> update</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> test </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">set</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;wanglin&quot;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> where</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> id </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">FAILED: SemanticException </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">[Error 10294]</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: Attempt </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">to</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> do </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">update</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> or</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> delete</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> using</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> transaction</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> manager that does </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">not</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> support these operations.</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>可以看到，当操作<a href="https://hive.apache.org/" target="_blank" rel="noopener noreferrer">Hive</a>的时候，它在底层调用的就是<a href="https://hadoop.apache.org/docs/current/hadoop-mapreduce-client/hadoop-mapreduce-client-core/MapReduceTutorial.html" target="_blank" rel="noopener noreferrer">MapReduce</a>。</p><p>而且<a href="https://hive.apache.org/" target="_blank" rel="noopener noreferrer">Hive</a>并不支持更新或删除数据的操作。</p><h3 id="删除数据表" tabindex="-1"><a class="header-anchor" href="#删除数据表"><span>删除数据表</span></a></h3><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">hive</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> drop</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> table</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> test</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">OK</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">Time</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> taken: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">418</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> seconds</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">hive</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> show tables;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">OK</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">Time</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> taken: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">076</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> seconds</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><h2 id="使用beeline命令" tabindex="-1"><a class="header-anchor" href="#使用beeline命令"><span>使用beeline命令</span></a></h2><p>执行<code>beeline</code>命令，需要先执行<code>hiveserver2</code>命令。</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; cd /home/work/hive-3.1.3</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; ./bin/hiveserver2</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">/usr/bin/which:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> no</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> hbase</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> in</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (/root/.local/bin:/root/bin:.:/home/work/hadoop-3.2.0/bin:/home/work/hadoop-3.2.0/sbin:/usr/local/java/jdk1.8.0_401/bin:/usr/share/Modules/bin:/usr/local/bin:/usr/local/sbin:/usr/bin:/usr/sbin)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">2023-03-16</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 19:52:40:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Starting</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> HiveServer2</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">SLF4J:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Class</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> path</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> contains</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> multiple</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> SLF4J</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> bindings.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">SLF4J:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Found</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> binding</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> in</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [jar:file:/home/work/hive-3.1.3/lib/log4j-slf4j-impl-2.17.1.jar!/org/slf4j/impl/StaticLoggerBinder.class]</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">SLF4J:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Found</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> binding</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> in</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [jar:file:/home/work/hadoop-3.2.0/share/hadoop/common/lib/slf4j-log4j12-1.7.25.jar!/org/slf4j/impl/StaticLoggerBinder.class]</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">SLF4J:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> See</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> http://www.slf4j.org/codes.html#multiple_bindings</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> for</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> an</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> explanation.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">SLF4J:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Actual</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> binding</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> is</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> of</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> type</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [org.apache.logging.slf4j.Log4jLoggerFactory]</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Hive</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Session</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ID</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> a25cfea9-64d6-4342-9ec1-f4bc9b32905d</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Hive</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Session</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ID</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> e676ff3b-7adf-4ce1-b1a2-ff8823771350</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>再打开另一个终端，然后启动<code>beeline</code>。</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; cd /home/work/hive-3.1.3</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; ./bin/beeline -u jdbc:hive2://localhost:10000</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">SLF4J:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Class</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> path</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> contains</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> multiple</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> SLF4J</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> bindings.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">SLF4J:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Found</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> binding</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> in</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [jar:file:/home/work/hive-3.1.3/lib/log4j-slf4j-impl-2.17.1.jar!/org/slf4j/impl/StaticLoggerBinder.class]</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">SLF4J:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Found</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> binding</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> in</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [jar:file:/home/work/hadoop-3.2.0/share/hadoop/common/lib/slf4j-log4j12-1.7.25.jar!/org/slf4j/impl/StaticLoggerBinder.class]</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">SLF4J:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> See</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> http://www.slf4j.org/codes.html#multiple_bindings</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> for</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> an</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> explanation.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">SLF4J:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Actual</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> binding</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> is</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> of</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> type</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [org.apache.logging.slf4j.Log4jLoggerFactory]</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Connecting</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> jdbc:hive2://localhost:10000</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Connected</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> to:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Apache</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Hive</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (version </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3.1.3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Driver:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Hive</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> JDBC</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (version </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3.1.3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Transaction</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> isolation:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> TRANSACTION_REPEATABLE_READ</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Beeline</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> version</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 3.1.3</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> by</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Apache</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Hive</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">0:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> jdbc:hive2://localhost:1000</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">0&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>接下来，就可以通过输入<code>SQL</code>查询语句与<a href="https://hive.apache.org/" target="_blank" rel="noopener noreferrer">Hive</a>交互了。</p><h3 id="创建数据表-1" tabindex="-1"><a class="header-anchor" href="#创建数据表-1"><span>创建数据表</span></a></h3><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: jdbc:hive2://localhost:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10000</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> create</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> table</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> test(id </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> string);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">......</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">INFO  : OK</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">INFO  : Concurrency mode </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">is</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> disabled</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">not</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> creating a lock manager</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">No</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> rows</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> affected (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">353</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> seconds</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: jdbc:hive2://localhost:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10000</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> show tables;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">......</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">+</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">-----------+</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">| tab_name  |</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">+</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">-----------+</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">| test      |</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">+</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">-----------+</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> row</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> selected (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">648</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> seconds</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="操作数据-1" tabindex="-1"><a class="header-anchor" href="#操作数据-1"><span>操作数据</span></a></h3><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: jdbc:hive2://localhost:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10000</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> insert into</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> test(id, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">values</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;lixingyun&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">......</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Job Submission failed </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">with</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> exception </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;org.apache.hadoop.security.AccessControlException(Permission denied: user=anonymous, access=EXECUTE, inode=&quot;/tmp/hadoop-yarn&quot;:root:supergroup:drwx------</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>出现异常，退出<code>beeline</code>，重新指定用户后再试。</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; cd /home/work/hive-3.1.3</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; ./bin/beeline -u jdbc:hive2://localhost:10000 -n root</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">......</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">0:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> jdbc:hive2://localhost:1000</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">0&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>再来执行插入数据的操作。</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: jdbc:hive2://localhost:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10000</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> insert into</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> test(id, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">values</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;lixingyun&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">......</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">INFO  : OK</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">INFO  : Concurrency mode </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">is</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> disabled</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">not</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> creating a lock manager</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">No</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> rows</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> affected (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">12</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">047</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> seconds</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: jdbc:hive2://localhost:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10000</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> test;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">......</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">+</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">----------+------------+</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">| </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">test</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  | </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">test</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  |</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">+</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">----------+------------+</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">| </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        | lixingyun  |</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">+</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">----------+------------+</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> row</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> selected (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">473</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> seconds</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="删除数据表-1" tabindex="-1"><a class="header-anchor" href="#删除数据表-1"><span>删除数据表</span></a></h3><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: jdbc:hive2://localhost:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10000</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> drop</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> table</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> test</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">......</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">INFO  : OK</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">INFO  : Concurrency mode </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">is</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> disabled</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">not</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> creating a lock manager</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">No</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> rows</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> affected (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">393</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> seconds</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: jdbc:hive2://localhost:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10000</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> show tables;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">......</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">+</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">-----------+</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">| tab_name  |</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">+</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">-----------+</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">+</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">-----------+</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">No</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> rows</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> selected (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">175</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> seconds</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="指定ip连接" tabindex="-1"><a class="header-anchor" href="#指定ip连接"><span>指定IP连接</span></a></h3><p>可以通过指定本机IP的方式连接<code>beeline</code>，这样就可以远程操作<a href="https://hive.apache.org/" target="_blank" rel="noopener noreferrer">Hive</a>。</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; cd /home/work/hive-3.1.3</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; ./bin/beeline -u jdbc:hive2://172.16.185.176:10000</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">......</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">0:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> jdbc:hive2://172.16.185.176:1000</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">0&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,32),k=[l];function e(t,p){return a(),i("div",null,k)}const A=s(h,[["render",e],["__file","command.html.vue"]]),g=JSON.parse('{"path":"/technology/bigdata/hive/command.html","title":"在命令行中查询","lang":"zh-CN","frontmatter":{"title":"在命令行中查询","icon":"hippo","category":["大数据","Hive"],"tag":["大数据","Hive"],"date":"2023-03-25T00:00:00.000Z","isOriginal":true,"star":true,"description":"使用hive命令 执行下面的命令开启Hive客户端。 接下来，就可以通过输入SQL查询语句与Hive交互了。 创建数据表 操作数据 可以看到，当操作Hive的时候，它在底层调用的就是MapReduce。 而且Hive并不支持更新或删除数据的操作。 删除数据表 使用beeline命令 执行beeline命令，需要先执行hiveserver2命令。 再打开...","head":[["meta",{"property":"og:url","content":"https://vuepress-theme-hope-docs-demo.netlify.app/technology/bigdata/hive/command.html"}],["meta",{"property":"og:site_name","content":"添码座"}],["meta",{"property":"og:title","content":"在命令行中查询"}],["meta",{"property":"og:description","content":"使用hive命令 执行下面的命令开启Hive客户端。 接下来，就可以通过输入SQL查询语句与Hive交互了。 创建数据表 操作数据 可以看到，当操作Hive的时候，它在底层调用的就是MapReduce。 而且Hive并不支持更新或删除数据的操作。 删除数据表 使用beeline命令 执行beeline命令，需要先执行hiveserver2命令。 再打开..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:author","content":"添码座"}],["meta",{"property":"article:tag","content":"大数据"}],["meta",{"property":"article:tag","content":"Hive"}],["meta",{"property":"article:published_time","content":"2023-03-25T00:00:00.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"在命令行中查询\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2023-03-25T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"添码座\\",\\"url\\":\\"https://www.tianmazuo.com/about/\\"}]}"]]},"headers":[{"level":2,"title":"使用hive命令","slug":"使用hive命令","link":"#使用hive命令","children":[{"level":3,"title":"创建数据表","slug":"创建数据表","link":"#创建数据表","children":[]},{"level":3,"title":"操作数据","slug":"操作数据","link":"#操作数据","children":[]},{"level":3,"title":"删除数据表","slug":"删除数据表","link":"#删除数据表","children":[]}]},{"level":2,"title":"使用beeline命令","slug":"使用beeline命令","link":"#使用beeline命令","children":[{"level":3,"title":"创建数据表","slug":"创建数据表-1","link":"#创建数据表-1","children":[]},{"level":3,"title":"操作数据","slug":"操作数据-1","link":"#操作数据-1","children":[]},{"level":3,"title":"删除数据表","slug":"删除数据表-1","link":"#删除数据表-1","children":[]},{"level":3,"title":"指定IP连接","slug":"指定ip连接","link":"#指定ip连接","children":[]}]}],"git":{},"readingTime":{"minutes":3.61,"words":1083},"filePathRelative":"technology/bigdata/hive/command.md","localizedDate":"2023年3月25日","excerpt":"<h2>使用hive命令</h2>\\n<p>执行下面的命令开启<a href=\\"https://hive.apache.org/\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">Hive</a>客户端。</p>\\n<div class=\\"language-shell line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"shell\\" data-title=\\"shell\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">&gt; cd /home/work/hive-3.1.3</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">&gt; ./bin/hive</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">/usr/bin/which:</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> no</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> hbase</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> in</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> (/root/.local/bin:/root/bin:.:/home/work/hadoop-3.2.0/bin:/home/work/hadoop-3.2.0/sbin:/usr/local/java/jdk1.8.0_401/bin:/usr/share/Modules/bin:/usr/local/bin:/usr/local/sbin:/usr/bin:/usr/sbin)</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">SLF4J:</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> Class</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> path</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> contains</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> multiple</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> SLF4J</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> bindings.</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">SLF4J:</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> Found</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> binding</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> in</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> [jar:file:/home/work/hive-3.1.3/lib/log4j-slf4j-impl-2.17.1.jar!/org/slf4j/impl/StaticLoggerBinder.class]</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">SLF4J:</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> Found</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> binding</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> in</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> [jar:file:/home/work/hadoop-3.2.0/share/hadoop/common/lib/slf4j-log4j12-1.7.25.jar!/org/slf4j/impl/StaticLoggerBinder.class]</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">SLF4J:</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> See</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> http://www.slf4j.org/codes.html#multiple_bindings</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> for</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> an</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> explanation.</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">SLF4J:</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> Actual</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> binding</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> is</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> of</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> type</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> [org.apache.logging.slf4j.Log4jLoggerFactory]</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">Hive</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> Session</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> ID</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> =</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> 86ca643b-ec64-4f1f-bd24-6405e64fe77a</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">Logging</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> initialized</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> using</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> configuration</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> in</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> jar:file:/home/work/hive-3.1.3/lib/hive-common-3.1.3.jar!/hive-log4j2.properties</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> Async:</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> true</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">Hive-on-MR</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> is</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> deprecated</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> in</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> Hive</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> 2</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> and</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> may</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> not</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> be</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> available</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> in</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> the</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> future</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> versions.</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> Consider</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> using</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> a</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> different</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> execution</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> engine</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> (i.e. </span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">spark,</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> tez</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">) or using Hive 1.X releases.Hive Session ID = d8f39576-5efc-49c7-9658-1cf0b3b3cdca</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">hive</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">&gt;</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","autoDesc":true}');export{A as comp,g as data};
